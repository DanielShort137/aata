<?xml version="1.0" encoding="UTF-8" ?>

<!-- This file is part of the book                 -->
<!--                                               -->
<!--   Abstract Algebra: Theory and Applications   -->
<!--                                               -->
<!-- Copyright (C) 2010-2014  Robert A. Beezer     -->
<!-- See the file COPYING for copying conditions.  -->

<section xml:id="sylow-sage">
	<title>Sage</title>

	<subsection>
		<title>Sylow Subgroups</title>

		<p>The Sage permutation group method <c>.sylow_subgroup(p)</c> will return a single Sylow <m>p</m>-subgroup.  If the prime is not a proper divisor of the group order it returns a subgroup of order <m>p^0</m>, in other words, a trivial subgroup.  So be careful about how you construct your primes.  Sometimes, you may only want <em>one</em> such Sylow subgroup, since any two Sylow <m>p</m>-subgroups are conjugate, and hence isomorphic (Theorem<nbsp /><xref ref="theorem-second-sylow" />).  This also means we can create other Sylow <m>p</m>-subgroups by conjugating the one we have.  The permutation group method <c>.conjugate(g)</c> will conjugate the group by <c>g</c>.</p>

		<p>With repeated conjugations of a single Sylow <m>p</m>-subgroup, we will always create duplicate subgroups.  So we need to use a slightly complicated construction to form a list of just the unique subgroups as the list of conjugates.  This routine that computes all Sylow <m>p</m>-subgroups can be helpful throughout this section.  It could be made much more efficient by conjugating by just one element per coset of the normalizer, but it will be sufficient for our purposes here.  Be sure to execute the next cell if you are online, so the function is defined for use later.</p>

        <sage>
            <input>
            def all_sylow(G, p):
                '''Form the set of all distinct Sylow p-subgroups of G'''
                scriptP = []
                P = G.sylow_subgroup(p)
                for x in G:
                    H = P.conjugate(x)
                    if not(H in scriptP):
                        scriptP.append(H)
                return scriptP
            </input>
        </sage>

		<p>Lets investigate the Sylow subgroups of the dihedral group <m>D_{18}</m>.  As a group of order <m>36=2^2\cdot 3^2</m>, we know by the First Sylow Theorem that there is a Sylow <m>2</m>-subgroup of order <m>4</m> and a Sylow <m>3</m>-subgroup of order <m>9</m>.  First for <m>p=2</m>, we obtain one Sylow <m>2</m>-subgroup, form all the conjugates, and form a list of non-duplicate subgroups.  (These commands take a while to execute, so be patient.)</p>

		<sage>
		<input>
		G = DihedralGroup(18)
		S2 = G.sylow_subgroup(2); S2
		</input>
		<output>
		Subgroup of (Dihedral group of order 36 as a permutation group)
		generated by
		[(2,18)(3,17)(4,16)(5,15)(6,14)(7,13)(8,12)(9,11),
		(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)]
		</output>
		</sage>

		<sage>
			<input>
			uniqS2 = all_sylow(G, 2)
			uniqS2
			</input>
			<output>
			[Permutation Group with generators
			[(2,18)(3,17)(4,16)(5,15)(6,14)(7,13)(8,12)(9,11),
			(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)],
			Permutation Group with generators
			[(1,3)(4,18)(5,17)(6,16)(7,15)(8,14)(9,13)(10,12),
			(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)],
			Permutation Group with generators
			[(1,5)(2,4)(6,18)(7,17)(8,16)(9,15)(10,14)(11,13),
			(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)],
			Permutation Group with generators
			[(1,7)(2,6)(3,5)(8,18)(9,17)(10,16)(11,15)(12,14),
			(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)],
			Permutation Group with generators
			[(1,9)(2,8)(3,7)(4,6)(10,18)(11,17)(12,16)(13,15),
			(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)],
			Permutation Group with generators
			[(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18),
			(1,11)(2,10)(3,9)(4,8)(5,7)(12,18)(13,17)(14,16)],
			Permutation Group with generators
			[(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18),
			(1,13)(2,12)(3,11)(4,10)(5,9)(6,8)(14,18)(15,17)],
			Permutation Group with generators
			[(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18),
			(1,15)(2,14)(3,13)(4,12)(5,11)(6,10)(7,9)(16,18)],
			Permutation Group with generators
			[(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18),
			(1,17)(2,16)(3,15)(4,14)(5,13)(6,12)(7,11)(8,10)]]
			</output>
		</sage>

		<sage>
			<input>
			len(uniqS2)
			</input>
			<output>9</output>
		</sage>

		<p>The Third Sylow Theorem tells us that for <m>p=2</m> we would expect <m>1, 3</m> or <m>9</m> Sylow <m>2</m>-subgroups, so our computational result of <m>9</m> subgroups is consistent with what the theory predicts.  Can you visualize each of these subgroups as symmetries of an <m>18</m>-gon?  Notice that we also have many subgroups of order <m>2</m> inside of these subgroups of order <m>4</m>.</p>

		<p>Now for the case of <m>p=3</m>.</p>

		<sage>
		<input>
		G = DihedralGroup(18)
		S3 = G.sylow_subgroup(3); S3
		</input>
		<output>
		Subgroup of (Dihedral group of order 36 as a permutation group)
		generated by
		[(1,7,13)(2,8,14)(3,9,15)(4,10,16)(5,11,17)(6,12,18),
		(1,15,11,7,3,17,13,9,5)(2,16,12,8,4,18,14,10,6)]
		</output>
		</sage>

		<sage>
			<input>
			uniqS3 = all_sylow(G, 3)
			uniqS3
			</input>
			<output>
			[Permutation Group with generators
			[(1,7,13)(2,8,14)(3,9,15)(4,10,16)(5,11,17)(6,12,18),
			(1,15,11,7,3,17,13,9,5)(2,16,12,8,4,18,14,10,6)]]
			</output>
		</sage>

		<sage>
			<input>
			len(uniqS3)
			</input>
			<output>1</output>
		</sage>

		<p>What does the Third Sylow Theorem predict?  Just <m>1</m> or <m>4</m> Sylow <m>3</m>-subgroups.  Having found just one subgroup computationally, we know that all of the conjugates of the lone Sylow <m>3</m>-subgroup are equal.  In other words, the Sylow <m>3</m>-subgroup is normal in <m>D_{18}</m>.  Let us check anyway.</p>

		<sage>
		<input>
		S3.is_normal(G)
		</input>
		<output>
		True
		</output>
		</sage>

		<p>At least one of the subgroups of order <m>3</m> contained in this Sylow <m>3</m>-subgroup should be obvious by looking at the orders of the generators, and then you may even notice that the generators given could be reduced, and one is a power of the other.</p>

		<sage>
		<input>
		S3.is_cyclic()
		</input>
		<output>
		True
		</output>
		</sage>

		<p>Remember that there are many other subgroups, of other orders.  For example, can you construct a subgroup of order <m>6=2\cdot 3</m> in <m>D_{18}</m>?</p>

		</subsection>

		<subsection>
		<title>Normalizers</title>

		<p>A new command that is relevant to this section is the construction of a normalizer.  The Sage command <c>G.normalizer(H)</c> will return the subgroup of <c>G</c> containing elements that normalize the subgroup <c>H</c>.  We illustrate its use with the Sylow subgroups from above.</p>

		<sage>
		<input>
		G = DihedralGroup(18)
		S2 = G.sylow_subgroup(2)
		S3 = G.sylow_subgroup(3)
		N2 = G.normalizer(S2); N2
		</input>
		<output>
		Subgroup of (Dihedral group of order 36 as a permutation group)
		generated by
		[(2,18)(3,17)(4,16)(5,15)(6,14)(7,13)(8,12)(9,11),
		(1,10)(2,11)(3,12)(4,13)(5,14)(6,15)(7,16)(8,17)(9,18)]
		</output>
		</sage>

		<sage>
		<input>
		N2 == S2
		</input>
		<output>
		True
		</output>
		</sage>

		<sage>
		<input>
		N3 = G.normalizer(S3); N3
		</input>
		<output>
		Subgroup of (Dihedral group of order 36 as a permutation group)
		generated by
		[(2,18)(3,17)(4,16)(5,15)(6,14)(7,13)(8,12)(9,11),
		(1,2)(3,18)(4,17)(5,16)(6,15)(7,14)(8,13)(9,12)(10,11),
		(1,7,13)(2,8,14)(3,9,15)(4,10,16)(5,11,17)(6,12,18),
		(1,15,11,7,3,17,13,9,5)(2,16,12,8,4,18,14,10,6)]
		</output>
		</sage>

		<sage>
		<input>
		N3 == G
		</input>
		<output>
		True
		</output>
		</sage>

		<p>The normalizer of a subgroup always contains the whole subgroup, so the normalizer of <c>S2</c> is as small as possible.  We already knew <c>S3</c> is normal in <c>G</c>, so it is no surprise that its normalizer is as big as possible <mdash /> every element of <c>G</c> normalizes <c>S3</c>.  Let us compute a normalizer in <m>D_{18}</m> that is more <q>interesting.</q></p>

		<sage>
		<input>
		G = DihedralGroup(18)
		a = G("(1,7,13)(2,8,14)(3,9,15)(4,10,16)(5,11,17)(6,12,18)")
		b = G("(1,5)(2,4)(6,18)(7,17)(8,16)(9,15)(10,14)(11,13)")
		H = G.subgroup([a, b])
		H.order()
		</input>
		<output>
		6
		</output>
		</sage>

		<sage>
		<input>
		N = G.normalizer(H)
		N
		</input>
		<output>
		Subgroup of (Dihedral group of order 36 as a permutation group)
		generated by
		[(1,2)(3,18)(4,17)(5,16)(6,15)(7,14)(8,13)(9,12)(10,11),
		(1,5)(2,4)(6,18)(7,17)(8,16)(9,15)(10,14)(11,13),
		(1,13,7)(2,14,8)(3,15,9)(4,16,10)(5,17,11)(6,18,12)]
		</output>
		</sage>

		<sage>
		<input>
		N.order()
		</input>
		<output>
		12
		</output>
		</sage>

		<p>So for this subgroup of order <m>6</m>, the normalizer is strictly bigger than the subgroup, but still strictly smaller than the whole group (and hence not normal in the dihedral group).  Trivially, a subgroup is normal in its normalizer:</p>

		<sage>
		<input>
		H.is_normal(G)
		</input>
		<output>
		False
		</output>
		</sage>

		<sage>
		<input>
		H.is_normal(N)
		</input>
		<output>
		True
		</output>
		</sage>

	</subsection>

	<subsection>
		<title>Finite Simple Groups</title>

		<p>We saw earlier Sage's permutation group method <c>.is_simple()</c>.  Example<nbsp /><xref ref="example-group-pn" /> tells us that a group of order <m>64</m> is never simple.  The dicyclic group <c>DiCyclicGroup(16)</c> is a non-abelian group of <m>64</m>, so we can test this method on this group.  It turns out this group has many normal subgroups <mdash /> the list will always contain the trivial subgroup and the group itself, so any number exceeding <m>2</m> indicates a non-trivial normal subgroup.</p>

		<sage>
		<input>
		DC=DiCyclicGroup(16)
		DC.order()
		</input>
		<output>
		64
		</output>
		</sage>

		<sage>
		<input>
		DC.is_simple()
		</input>
		<output>
		False
		</output>
		</sage>

		<sage>
		<input>
		ns = DC.normal_subgroups()
		len(ns)
		</input>
		<output>
		9
		</output>
		</sage>

		<p>Here is a rather interesting group, one of the <m>26</m> sporadic simple groups, known as the Higman-Sims group, <m>HS</m>.  The generators used below come from the representation on 100 points in GAP format, available off of <url href="http://web.mat.bham.ac.uk/atlas/v2.0/spor/HS/">web.mat.bham.ac.uk/atlas/v2.0/spor/HS/</url>.  Two generators of just order <m>2</m> and order <m>5</m> (as you can esily see), generating exactly <m>44\,352\,000</m> elements, but no normal subgroups.  Amazing.</p>

		<sage>
		<input>
		G = SymmetricGroup(100)
		a = G([(1,60),  (2,72),  (3,81),  (4,43),  (5,11),  (6,87),
		        (7,34),  (9,63),  (12,46), (13,28), (14,71), (15,42),
		        (16,97), (18,57), (19,52), (21,32), (23,47), (24,54),
		        (25,83), (26,78), (29,89), (30,39), (33,61), (35,56),
		        (37,67), (44,76), (45,88), (48,59), (49,86), (50,74),
		        (51,66), (53,99), (55,75), (62,73), (65,79), (68,82),
		        (77,92), (84,90), (85,98), (94,100)])
		b = G([(1,86,13,10,47),  (2,53,30,8,38),
		        (3,40,48,25,17),  (4,29,92,88,43),   (5,98,66,54, 65),
		        (6,27,51,73,24),  (7,83,16,20,28),   (9,23,89,95,61),
		        (11,42,46,91,32), (12,14, 81,55,68), (15,90,31,56,37),
		        (18,69,45,84,76), (19,59,79,35,93),  (21,22,64,39,100),
		        (26,58,96,85,77), (33,52,94,75,44),  (34,62,87,78,50),
		        (36,82,60,74,72), (41,80,70,49,67),  (57,63,71,99,97)])
		a.order(), b.order()
		</input>
		<output>
		(2, 5)
		</output>
		</sage>

		<sage>
		<input>
		HS = G.subgroup([a, b])
		HS.order()
		</input>
		<output>
		44352000
		</output>
		</sage>

		<sage>
		<input>
		HS.is_simple()
		</input>
		<output>
		True
		</output>
		</sage>

		<p>We saw this group earlier in the exercises for Chapter<nbsp /><xref ref="actions" /> on group actions, where it was the single non-trivial normal subgroup of the automorphism group of the Higman-Sims graph, hence its name.</p>

	</subsection>

	<subsection>
		<title>GAP Console and Interface</title>

		<p>This concludes our exclusive study of group theory, though we will be using groups some in the subsequent sections.  As we have remarked, much of Sage's computation with groups is performed by the open source program, <q>Groups, Algorithms, and Programming,</q> which is better know as simply GAP.  If after this course you outgrow Sage's support for groups, then learning GAP would be your next step as a group theorist. Every copy of Sage includes a copy of GAP and is easy to see which version of GAP is included:</p>

		<sage>
		<input>
		gap.version()
		</input>
		<output>
		'4.7.5'
		</output>
		</sage>

		<p>You can interact with GAP in Sage in several ways. The most direct is by creating a permutation group via Sage's <c>gap()</c> command.</p>

		<sage>
		<input>
		G = gap('Group( (1,2,3,4,5,6), (1,3,5) )')
		G
		</input>
		<output>
		Group( [ (1,2,3,4,5,6), (1,3,5) ] )
		</output>
		</sage>

		<p>Now we can use most any GAP command with <c>G</c>, via the convention that most GAP commands expect a group as the first argument, and we instead provide the group by using the object-oriented<c>G.</c> syntax.  If you consult the GAP documentation you will see that <c>Center</c> is a GAP command that expects a group as its lone argument, and <c>Centralizer</c> is a GAP command that expects two arguments <mdash /> a group and then a group element.</p>

		<sage>
		<input>
		G.Center()
		</input>
		<output>
		Group( [ ( 1, 3, 5)( 2, 4, 6) ] )
		</output>
		</sage>

		<sage>
		<input>
		G.Centralizer('(1, 3, 5)')
		</input>
		<output>
		Group( [ (1,3,5), (2,4,6), (1,3,5)(2,4,6) ] )
		</output>
		</sage>

		<p>If you use the Sage Notebook interface you can set the first line of a compute cell to <c>%gap</c> and the entire cell will be interpreted as if you were interacting directly with GAP.  This means you would now use GAP's syntax, which you can see above is slightly different than Sage's universal syntax.  You can also use the drop-down box at the top of a worksheet, and select <c>gap</c> as the system (rather than <c>sage</c>) and your whole worksheet will be interpreted as GAP commands.  Here is one simple example, which you should be able to evaluate in your current worksheet.  This particular example will not run properly in a Sage Cell in a web page version of this section.</p>

		<sage type="display">
		<input>
		%gap
		G := Group( (1,2,3,4,5,6), (1,3,5) );
		Centralizer(G, (1,3,5));
		</input>
		</sage>

		<p>Notice that</p>

		<ul>
			<li><p>We do not need to wrap the individual permutations in as many quotation marks as we do in Sage.</p></li>

			<li><p>Assignment is <c>:=</c> not <c>=</c>.  If you forget the colon, you will get an error message such as <c>Variable: 'G' must have a value</c></p></li>

			<li><p>A line <em>must</em> end with a semi-colon.  If you forget, several lines will be merged together.</p></li>
		</ul>

		<p>You can get help about GAP commands with a command such as the following, though you will soon see that GAP assumes you know a lot more algebra than Sage assumes you know.</p>

		<sage doctest="not tested">
		<input>
		print gap.help('SymmetricGroup', pager=False)
		</input>
		</sage>

		<p>In the command-line version of Sage, you can also use the GAP <q>console.</q>  Again, you need to use GAP syntax, and you do not have many of the conveniences of the Sage notebook.  It is also good to know in advance that <c>quit;</c> is how you can leave the GAP console and get back to Sage.  If you run Sage at the command-line, use the command <c>gap_console()</c> to start GAP running.</p>

		<p>It is a comfort to know that with Sage you get a complete copy of GAP, installed and all ready to run.  However, this is not a tutorial on GAP, so consult the documentation available at the main GAP website: <url href="http://www.gap-system.org">www.gap-system.org</url> to learn how to get the most out of GAP.</p>

	</subsection>

</section>
